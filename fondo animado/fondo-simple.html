<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Fondo animado simple</title>
  <style>
    html, body { margin: 0; height: 100%; overflow: hidden; }
    canvas { width: 100%; height: 100%; display: block; }
  </style>

  <style>
    #bg-wrap{position:fixed;inset:0;z-index:-1;pointer-events:none;}
    #bg-canvas{width:100%;height:100%;display:block;}
    .bg-content{position:relative;z-index:1;}
  </style>

</head>
<body>
<div id="bg-wrap"><canvas id="bg-canvas"></canvas></div>
<div class="bg-content">

  <canvas id="bg"></canvas>

  <script>
    const canvas = document.getElementById("bg");
    const ctx = canvas.getContext("2d");
    let shapes = [];

    function resize() {
      const dpr = window.devicePixelRatio || 1;
      canvas.width = innerWidth * dpr;
      canvas.height = innerHeight * dpr;
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    window.addEventListener("resize", resize);
    resize();

    function init() {
      const w = canvas.width;
      const h = canvas.height;
      const num = Math.floor((w * h) / 45000) + 40;
      shapes = new Array(num).fill().map(() => ({
        x: Math.random() * w,
        y: Math.random() * h,
        r: 20 + Math.random() * 40,
        vx: (Math.random() - 0.5) * 0.4,
        vy: (Math.random() - 0.5) * 0.4,
        type: Math.random() > 0.5 ? "circle" : "square",
        hue: Math.floor(Math.random() * 360),
      }));
    }

    function draw() {
      const w = canvas.width;
      const h = canvas.height;

      // Fondo degradado azul–verde
      const gradient = ctx.createLinearGradient(0, 0, 0, h);
      gradient.addColorStop(0, "#1DE9B6");
      gradient.addColorStop(1, "#1565C0");
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, w, h);

      // Dibujar formas
      for (const s of shapes) {
        s.x += s.vx;
        s.y += s.vy;
        if (s.x < -50) s.x = w + 50;
        if (s.y < -50) s.y = h + 50;
        if (s.x > w + 50) s.x = -50;
        if (s.y > h + 50) s.y = -50;

        ctx.save();
        ctx.translate(s.x, s.y);
        ctx.rotate((Date.now() / 1000 + s.hue) % (Math.PI * 2));
        ctx.fillStyle = `hsla(${s.hue},70%,60%,0.15)`;

        if (s.type === "circle") {
          ctx.beginPath();
          ctx.arc(0, 0, s.r, 0, Math.PI * 2);
          ctx.fill();
        } else {
          ctx.fillRect(-s.r, -s.r, s.r * 2, s.r * 2);
        }
        ctx.restore();
      }

      requestAnimationFrame(draw);
    }

    init();
    draw();
  </script>

<div class="nav-buttons" style="text-align:center;margin-top:24px;">
  <a href="../index.html" class="btn-menu">MENÚ PRINCIPAL</a>
  <a href="../index.html" class="btn-back" style="margin-left:16px;">← Volver Atrás</a>
</div>

</div>
<script type="module" src="../../assets/fondo-loader.js"></script>
</body>
</html>
